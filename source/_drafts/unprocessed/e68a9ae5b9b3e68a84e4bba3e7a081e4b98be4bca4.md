title: 抚平抄代码之伤
tags:
  - Debug
  - 代码
  - 技术
  - 效率
  - 高质量
id: 535
categories:
  - 代码管理
  - 技术实践
date: 2013-02-25 21:45:42
---

## 
	<span style="color:#000000;">前言</span>

	<span style="color:#000000;"><span style="font-size:14px;">最近组里面好几个新同学都被&ldquo;</span><span style="font-size:14px;">奇葩&rdquo;的bug难住，一头雾水，在组内求助。作为学长，我当然义不容辞。不过花几个小时帮忙，到最后发现都是一个原因：抄代码没抄好。我觉得有必要说说抄代码这件事了&hellip;</span></span>

## 
	<span style="color:#000000;">为什么会这样？</span>

	<span style="color:#000000;"><span style="font-size: 14px;">我是从菜鸟的阶段过来的，现在称不上什么专家，但也算只老鸟了。菜鸟时期抄代码是非常正常的现象。我印象中当时的整个流程大概是这样：拿到要做的功能-&gt;搜代码-&gt;抄代码。抄代码其实是写出代码的手段之一，而且是最常用的。为什么会抄代码？当然是因为自己还写不出来。为什么自己写不出来？究其根本是自己的积累还不够多，于是只能借助别人已经写出来的代码去达到输出代码的目的。</span></span>

	<span style="color:#000000;"><span style="font-size: 14px;">很多情况下，迫于项目压力及其他种种原因，我们抄的代码自己只理解了个大概，并没有吃透。比如说看明白了方法的名字，没看方法当中的具体内容，就告诉自己：&ldquo;哦，这个方法是做这件事的&rdquo;，然后把它放到了对应的位置。这样抄的代码，就像一颗定时炸弹，什么时候爆炸只是时间问题。</span></span>

	<span style="color:#000000;"><span style="font-size: 14px;">这个炸弹一旦爆炸，问题马上会超出你的掌控范围。我在帮助两位学弟的时候都听到了类似的一句话：&ldquo;我明明跟它写得一模一样，但是结果就是不一样&rdquo;。当你有这个想法的时候，千万打住。你已经被无法得到同样结果还找不到原因的糟糕情绪控制，把精力放在了抱怨上，没有专注冷静地去分析产生问题的原因。一个简单反例就可以马上否定你的想法：就算你和别人写的代码一样，</span><span style="font-size: 14px;">还有其他的因素会影响运行结果，比如说不同的设备，不同的api级别等，所有这些你都考虑到了吗？一般情况下，菜鸟的bug还没这么高级。你绝对在某个地方写得和别人不一样，只不过你的检查精度还不够，自己还没发现而已。</span></span>

## 
	<span style="color:#000000;">不抄代码？抄代码？</span>

	<span style="color:#000000;"><span style="font-size:14px;">抄代码隐患这么大，那我到底抄不抄？</span></span>

	<span style="color:#000000;"><span style="font-size: 14px;">大家可能听过这么一句话，&ldquo;天下作文一大抄，就看你会抄不会抄&rdquo;，语出自高中语文老师。其实代码也是一样。会抄代码，那就是站在巨人的肩膀上，效率噌噌噌往上涨；不会抄代码，那就是自找麻烦，你永远不知道copy过来的那几行内容会出什么问题，一旦问题出现，你的心就坠入了深深的湖水&hellip;老鸟之所以比菜鸟效率高，太多是高在这里。再往上走成为专家则需要更加系统的学习。</span></span>

## 
	<span style="color:#000000;">怎么抄代码？</span>

	<span style="color:#000000;"><span style="font-size: 14px;">浅显一点的方法：如何保证自己的代码和别人的真的是一模一样？</span></span>

1.  <span style="color:#000000;"><span style="font-size: 14px;">仔细的复制粘贴；</span></span>
2.  <span style="color:#000000;"><span style="font-size: 14px;">做不到仔细就自己一句句敲，敲码百遍，其义自</span><span style="font-size: 14px;">见；</span></span>
3.  <span style="color:#000000;"><span style="font-size: 14px;">主动调用的地方一般都能观察到，如果流程中有被动调用的地方呢？<span style="font-size: 14px;">​比如说Activity的生命周期，你考虑到了没？</span></span></span>

	<span style="color:#000000;"><span style="font-size: 14px;">以上方法纯属治标，欢迎补充。</span></span>

	<span style="color:#000000;"><span style="font-size: 14px;">深入一点的方法：请理解你写的每一行代码。</span></span>

1.  <span style="color:#000000;"><span style="font-size:14px;">升级流程：菜鸟阶段是，拿到要做的功能-&gt;搜代码-&gt;抄代码</span><span style="font-size:14px;">-&gt;搜代码-&gt;抄代码-&gt;&hellip;，升级为拿到要做的功能-&gt;设计</span><span style="font-size: 14px;">-&gt;写代码-&gt;想代码-&gt;写代码</span><span style="font-size: 14px;">-&gt;想代码-&gt;&hellip;；</span></span>
2.  <span style="color:#000000;"><span style="font-size: 14px;">通过查询官方文档、搜索其他人的解释、实际测试等手段去摸清楚代码写出来之后的效果，保证即便出错也在可控的范围之内；</span></span>
3.  <span style="color:#000000;"><span style="font-size: 14px;">定期整理自己做过的项目，把项目里面常用到的功能变为代码片段，形成自己的代码库；</span></span>
4.  <span style="color:#000000;"><span style="font-size:14px;">觉得系统源码很复杂就学习Google的API Guide，英文简单，讲解全面，还有示例；</span></span>
5.  <span style="color:#000000;"><span style="font-size: 14px;">再高级一点，没事就想想哪个很牛的应用里面的功能怎么实现的，亲自做一下，把你的编码能力从简单调用升级为自定义。</span></span>

	<span style="color:#000000;"><span style="font-size: 14px;">或许你得学学乔布斯那样，控制欲要更强一些，保证代码里面的每个角落都逃不出你的魔掌。再说大一点，请对你写的每行代码、做的每件事情负责。</span><span style="font-size: 14px; line-height: 1.6em;">事情没体会不乱说，代码不理解不瞎写。</span></span>

	<span style="color:#000000;"><span style="font-size: 14px; line-height: 1.6em;">浅显方法和深入方法的区别在于：</span><span style="font-size:14px;">困难的路越走越容易，容易的路越走越难。自己选择吧~</span></span>

## 
	<span style="color:#000000;">再扯点淡</span>

	<span style="color:#000000;"><span style="font-size:14px;">面对bug的心态我觉得也可以说说。</span><span style="font-size: 14px; line-height: 1.6em;">人活着就是要解决很多问题，bug只是万千问题中的一种。请抓住每一次机会锻炼自己解决问题的能力。</span><span style="font-size: 14px; line-height: 1.6em;">碰到自己解决不了又搜不到答案的问题要非常兴奋。恭喜你，你遇到的问题有可能很有价值，你成长的机会来了！</span></span>

## 
	<span style="color:#000000;">总结</span>

	<span style="color:#000000;"><span style="font-size:14px;">抄不抄代码？回答当然是要抄。</span></span>

	<span style="color:#000000;"><span style="font-size:14px;">怎么抄代码？请理解之后再抄。</span></span>

	<span style="color:#000000;"><span style="font-size:14px;">理解些什么？我面对的问题是什么，产生问题的原因是什么，可行的解决方案是什么；搜到的代码起什么作用，是什么意思，我该怎么用&hellip;</span></span>

	<span style="font-size: 14px;"><span style="color:#000000;">最后推荐阅读：</span>[<span style="color:#000000;">遇到问题为什么应该自己动手</span>](http://mindhacks.cn/2009/07/06/why-you-should-do-it-yourself/)</span>

	<span style="color:#000000;"><span style="font-size: 14px;">这篇文章讲了这几个内容：</span></span>

1.  <span style="color:#000000;"><span style="font-size:14px;">遇到问题寻找捷径为什么是很聪明的做法；</span></span>
2.  <span style="color:#000000;"><span style="font-size:14px;">遇到问题寻找捷径为什么只是小聪明。​</span></span>

	<span style="color:#000000;"><span style="font-size:14px;">​记住：</span><span style="font-size: 14px;">困难的路越走越容易，容易的路越走越难。希望大家都能突破自己的瓶颈，写出高质量的代码！</span></span>